var Yr=Object.defineProperty;var Wt=t=>{throw TypeError(t)};var Hr=(t,r,e)=>r in t?Yr(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var Y=(t,r,e)=>Hr(t,typeof r!="symbol"?r+"":r,e),Gt=(t,r,e)=>r.has(t)||Wt("Cannot "+e);var E=(t,r,e)=>(Gt(t,r,"read from private field"),e?e.call(t):r.get(t)),Pt=(t,r,e)=>r.has(t)?Wt("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,e),Ct=(t,r,e,n)=>(Gt(t,r,"write to private field"),n?n.call(t,e):r.set(t,e),e);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=e(a);fetch(a.href,s)}})();const A=2,ir=4,Bt=8,or=16,q=32,J=64,vt=128,C=256,pt=512,S=1024,j=2048,Q=4096,ht=8192,mt=16384,Ur=32768,Wr=65536,Gr=1<<19,lr=1<<20,Nt=1<<21,X=Symbol("$state"),Kr=Symbol("legacy props"),Kt=!1;var fr=Array.isArray,zr=Array.prototype.indexOf,Xr=Array.from,cr=Object.defineProperty,rt=Object.getOwnPropertyDescriptor,Zr=Object.getOwnPropertyDescriptors,Jr=Object.prototype,Qr=Array.prototype,dr=Object.getPrototypeOf,zt=Object.isExtensible;function te(t){return t()}function _t(t){for(var r=0;r<t.length;r++)t[r]()}let st=[],At=[];function vr(){var t=st;st=[],_t(t)}function re(){var t=At;At=[],_t(t)}function pr(t){st.length===0&&queueMicrotask(vr),st.push(t)}function Xt(){st.length>0&&vr(),At.length>0&&re()}function hr(t){return t===this.v}function ee(t,r){return t!=t?r==r:t!==r||t!==null&&typeof t=="object"||typeof t=="function"}function ne(t){return!ee(t,this.v)}function se(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ae(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ue(t){throw new Error("https://svelte.dev/e/effect_orphan")}function ie(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function oe(){throw new Error("https://svelte.dev/e/hydration_failed")}function le(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function fe(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ce(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ut=!1,de=!1;function ve(){ut=!0}const pe=2,he="[",_e="]",et={},m=Symbol();function $t(t){console.warn("https://svelte.dev/e/hydration_mismatch")}function be(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let _=null;function Zt(t){_=t}function _r(t,r=!1,e){var n=_={p:_,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};ut&&!r&&(_.l={s:null,u:null,r1:[],r2:qt(!1)}),Ar(()=>{n.d=!0})}function br(t){const r=_;if(r!==null){t!==void 0&&(r.x=t);const u=r.e;if(u!==null){var e=h,n=p;r.e=null;try{for(var a=0;a<u.length;a++){var s=u[a];$(s.effect),D(s.reaction),Ut(s.fn)}}finally{$(e),D(n)}}_=r.p,r.m=!0}return t||{}}function Ot(){return!ut||_!==null&&_.l===null}function z(t,r){if(typeof t!="object"||t===null||X in t)return t;const e=dr(t);if(e!==Jr&&e!==Qr)return t;var n=new Map,a=fr(t),s=L(0),u=p,i=l=>{var o=p;D(u);var c;return c=l(),D(o),c};return a&&n.set("length",L(t.length)),new Proxy(t,{defineProperty(l,o,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&le();var f=n.get(o);return f===void 0?(f=i(()=>L(c.value)),n.set(o,f)):k(f,i(()=>z(c.value))),!0},deleteProperty(l,o){var c=n.get(o);if(c===void 0)o in l&&n.set(o,i(()=>L(m)));else{if(a&&typeof o=="string"){var f=n.get("length"),d=Number(o);Number.isInteger(d)&&d<f.v&&k(f,d)}k(c,m),Jt(s)}return!0},get(l,o,c){var b;if(o===X)return t;var f=n.get(o),d=o in l;if(f===void 0&&(!d||(b=rt(l,o))!=null&&b.writable)&&(f=i(()=>L(z(d?l[o]:m))),n.set(o,f)),f!==void 0){var v=N(f);return v===m?void 0:v}return Reflect.get(l,o,c)},getOwnPropertyDescriptor(l,o){var c=Reflect.getOwnPropertyDescriptor(l,o);if(c&&"value"in c){var f=n.get(o);f&&(c.value=N(f))}else if(c===void 0){var d=n.get(o),v=d==null?void 0:d.v;if(d!==void 0&&v!==m)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return c},has(l,o){var v;if(o===X)return!0;var c=n.get(o),f=c!==void 0&&c.v!==m||Reflect.has(l,o);if(c!==void 0||h!==null&&(!f||(v=rt(l,o))!=null&&v.writable)){c===void 0&&(c=i(()=>L(f?z(l[o]):m)),n.set(o,c));var d=N(c);if(d===m)return!1}return f},set(l,o,c,f){var V;var d=n.get(o),v=o in l;if(a&&o==="length")for(var b=c;b<d.v;b+=1){var x=n.get(b+"");x!==void 0?k(x,m):b in l&&(x=i(()=>L(m)),n.set(b+"",x))}d===void 0?(!v||(V=rt(l,o))!=null&&V.writable)&&(d=i(()=>L(void 0)),k(d,i(()=>z(c))),n.set(o,d)):(v=d.v!==m,k(d,i(()=>z(c))));var W=Reflect.getOwnPropertyDescriptor(l,o);if(W!=null&&W.set&&W.set.call(f,c),!v){if(a&&typeof o=="string"){var ft=n.get("length"),G=Number(o);Number.isInteger(G)&&G>=ft.v&&k(ft,G+1)}Jt(s)}return!0},ownKeys(l){N(s);var o=Reflect.ownKeys(l).filter(d=>{var v=n.get(d);return v===void 0||v.v!==m});for(var[c,f]of n)f.v!==m&&!(c in l)&&o.push(c);return o},setPrototypeOf(){fe()}})}function Jt(t,r=1){k(t,t.v+r)}const at=new Map;function qt(t,r){var e={f:0,v:t,reactions:null,equals:hr,rv:0,wv:0};return e}function L(t,r){const e=qt(t);return xe(e),e}function gr(t,r=!1){var n;const e=qt(t);return r||(e.equals=ne),ut&&_!==null&&_.l!==null&&((n=_.l).s??(n.s=[])).push(e),e}function k(t,r,e=!1){p!==null&&!I&&Ot()&&(p.f&(A|or))!==0&&!(y!=null&&y.includes(t))&&ce();let n=e?z(r):r;return ge(t,n)}function ge(t,r){if(!t.equals(r)){var e=t.v;ot?at.set(t,r):at.set(t,e),t.v=r,t.wv=Cr(),wr(t,j),Ot()&&h!==null&&(h.f&S)!==0&&(h.f&(q|J))===0&&(T===null?Te([t]):T.push(t))}return r}function wr(t,r){var e=t.reactions;if(e!==null)for(var n=Ot(),a=e.length,s=0;s<a;s++){var u=e[s],i=u.f;(i&j)===0&&(!n&&u===h||(F(u,r),(i&(S|C))!==0&&((i&A)!==0?wr(u,Q):Yt(u))))}}function we(t){var r=A|j,e=p!==null&&(p.f&A)!==0?p:null;return h===null||e!==null&&(e.f&C)!==0?r|=C:h.f|=lr,{ctx:_,deps:null,effects:null,equals:hr,f:r,fn:t,reactions:null,rv:0,v:null,wv:0,parent:e??h}}function yr(t){var r=t.effects;if(r!==null){t.effects=null;for(var e=0;e<r.length;e+=1)U(r[e])}}function ye(t){for(var r=t.parent;r!==null;){if((r.f&A)===0)return r;r=r.parent}return null}function Ee(t){var r,e=h;$(ye(t));try{yr(t),r=kr(t)}finally{$(e)}return r}function Er(t){var r=Ee(t),e=(B||(t.f&C)!==0)&&t.deps!==null?Q:S;F(t,e),t.equals(r)||(t.v=r,t.wv=Cr())}let R=!1;function ct(t){R=t}let w;function Z(t){if(t===null)throw $t(),et;return w=t}function mr(){return Z(it(w))}function St(t){if(R){if(it(w)!==null)throw $t(),et;w=t}}var Qt,Or,xr,Tr;function Rt(){if(Qt===void 0){Qt=window,Or=/Firefox/.test(navigator.userAgent);var t=Element.prototype,r=Node.prototype,e=Text.prototype;xr=rt(r,"firstChild").get,Tr=rt(r,"nextSibling").get,zt(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),zt(e)&&(e.__t=void 0)}}function jt(t=""){return document.createTextNode(t)}function bt(t){return xr.call(t)}function it(t){return Tr.call(t)}function kt(t,r){if(!R)return bt(t);var e=bt(w);return e===null&&(e=w.appendChild(jt())),Z(e),e}function tr(t,r=1,e=!1){let n=R?w:t;for(var a;r--;)a=n,n=it(n);if(!R)return n;var s=n==null?void 0:n.nodeType;if(e&&s!==3){var u=jt();return n===null?a==null||a.after(u):n.before(u),Z(u),u}return Z(n),n}function me(t){t.textContent=""}let dt=!1,gt=!1,wt=null,H=!1,ot=!1;function rr(t){ot=t}let nt=[];let p=null,I=!1;function D(t){p=t}let h=null;function $(t){h=t}let y=null;function Oe(t){y=t}function xe(t){p!==null&&p.f&Nt&&(y===null?Oe([t]):y.push(t))}let g=null,O=0,T=null;function Te(t){T=t}let Pr=1,yt=0,B=!1;function Cr(){return++Pr}function xt(t){var f;var r=t.f;if((r&j)!==0)return!0;if((r&Q)!==0){var e=t.deps,n=(r&C)!==0;if(e!==null){var a,s,u=(r&pt)!==0,i=n&&h!==null&&!B,l=e.length;if(u||i){var o=t,c=o.parent;for(a=0;a<l;a++)s=e[a],(u||!((f=s==null?void 0:s.reactions)!=null&&f.includes(o)))&&(s.reactions??(s.reactions=[])).push(o);u&&(o.f^=pt),i&&c!==null&&(c.f&C)===0&&(o.f^=C)}for(a=0;a<l;a++)if(s=e[a],xt(s)&&Er(s),s.wv>t.wv)return!0}(!n||h!==null&&!B)&&F(t,S)}return!1}function Pe(t,r){for(var e=r;e!==null;){if((e.f&vt)!==0)try{e.fn(t);return}catch{e.f^=vt}e=e.parent}throw dt=!1,t}function Ce(t){return(t.f&mt)===0&&(t.parent===null||(t.parent.f&vt)===0)}function Tt(t,r,e,n){if(dt){if(e===null&&(dt=!1),Ce(r))throw t;return}e!==null&&(dt=!0);{Pe(t,r);return}}function Sr(t,r,e=!0){var n=t.reactions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];y!=null&&y.includes(t)||((s.f&A)!==0?Sr(s,r,!1):r===s&&(e?F(s,j):(s.f&S)!==0&&F(s,Q),Yt(s)))}}function kr(t){var v;var r=g,e=O,n=T,a=p,s=B,u=y,i=_,l=I,o=t.f;g=null,O=0,T=null,B=(o&C)!==0&&(I||!H||p===null),p=(o&(q|J))===0?t:null,y=null,Zt(t.ctx),I=!1,yt++,t.f|=Nt;try{var c=(0,t.fn)(),f=t.deps;if(g!==null){var d;if(Et(t,O),f!==null&&O>0)for(f.length=O+g.length,d=0;d<g.length;d++)f[O+d]=g[d];else t.deps=f=g;if(!B)for(d=O;d<f.length;d++)((v=f[d]).reactions??(v.reactions=[])).push(t)}else f!==null&&O<f.length&&(Et(t,O),f.length=O);if(Ot()&&T!==null&&!I&&f!==null&&(t.f&(A|Q|j))===0)for(d=0;d<T.length;d++)Sr(T[d],t);return a!==null&&(yt++,T!==null&&(n===null?n=T:n.push(...T))),c}finally{g=r,O=e,T=n,p=a,B=s,y=u,Zt(i),I=l,t.f^=Nt}}function Se(t,r){let e=r.reactions;if(e!==null){var n=zr.call(e,t);if(n!==-1){var a=e.length-1;a===0?e=r.reactions=null:(e[n]=e[a],e.pop())}}e===null&&(r.f&A)!==0&&(g===null||!g.includes(r))&&(F(r,Q),(r.f&(C|pt))===0&&(r.f^=pt),yr(r),Et(r,0))}function Et(t,r){var e=t.deps;if(e!==null)for(var n=r;n<e.length;n++)Se(t,e[n])}function Vt(t){var r=t.f;if((r&mt)===0){F(t,S);var e=h,n=_,a=H;h=t,H=!0;try{(r&or)!==0?$e(t):Mr(t),Dr(t);var s=kr(t);t.teardown=typeof s=="function"?s:null,t.wv=Pr;var u=t.deps,i;Kt&&de&&t.f&j}catch(l){Tt(l,t,e,n||t.ctx)}finally{H=a,h=e}}}function ke(){try{ie()}catch(t){if(wt!==null)Tt(t,wt,null);else throw t}}function Ir(){var t=H;try{var r=0;for(H=!0;nt.length>0;){r++>1e3&&ke();var e=nt,n=e.length;nt=[];for(var a=0;a<n;a++){var s=Ne(e[a]);Ie(s)}}}finally{gt=!1,H=t,wt=null,at.clear()}}function Ie(t){var r=t.length;if(r!==0)for(var e=0;e<r;e++){var n=t[e];if((n.f&(mt|ht))===0)try{xt(n)&&(Vt(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Fr(n):n.fn=null))}catch(a){Tt(a,n,null,n.ctx)}}}function Yt(t){gt||(gt=!0,queueMicrotask(Ir));for(var r=wt=t;r.parent!==null;){r=r.parent;var e=r.f;if((e&(J|q))!==0){if((e&S)===0)return;r.f^=S}}nt.push(r)}function Ne(t){for(var r=[],e=t;e!==null;){var n=e.f,a=(n&(q|J))!==0,s=a&&(n&S)!==0;if(!s&&(n&ht)===0){if((n&ir)!==0)r.push(e);else if(a)e.f^=S;else{var u=p;try{p=e,xt(e)&&Vt(e)}catch(o){Tt(o,e,null,e.ctx)}finally{p=u}}var i=e.first;if(i!==null){e=i;continue}}var l=e.parent;for(e=e.next;e===null&&l!==null;)e=l.next,l=l.parent}return r}function Ae(t){var r;for(Xt();nt.length>0;)gt=!0,Ir(),Xt();return r}function N(t){var r=t.f,e=(r&A)!==0;if(p!==null&&!I){if(!(y!=null&&y.includes(t))){var n=p.deps;t.rv<yt&&(t.rv=yt,g===null&&n!==null&&n[O]===t?O++:g===null?g=[t]:(!B||!g.includes(t))&&g.push(t))}}else if(e&&t.deps===null&&t.effects===null){var a=t,s=a.parent;s!==null&&(s.f&C)===0&&(a.f^=C)}return e&&(a=t,xt(a)&&Er(a)),ot&&at.has(t)?at.get(t):t.v}function Ht(t){var r=I;try{return I=!0,t()}finally{I=r}}const Re=-7169;function F(t,r){t.f=t.f&Re|r}function De(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(X in t)Dt(t);else if(!Array.isArray(t))for(let r in t){const e=t[r];typeof e=="object"&&e&&X in e&&Dt(e)}}}function Dt(t,r=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!r.has(t)){r.add(t),t instanceof Date&&t.getTime();for(let n in t)try{Dt(t[n],r)}catch{}const e=dr(t);if(e!==Object.prototype&&e!==Array.prototype&&e!==Map.prototype&&e!==Set.prototype&&e!==Date.prototype){const n=Zr(e);for(let a in n){const s=n[a].get;if(s)try{s.call(t)}catch{}}}}}function Nr(t){h===null&&p===null&&ue(),p!==null&&(p.f&C)!==0&&h===null&&ae(),ot&&se()}function Me(t,r){var e=r.last;e===null?r.last=r.first=t:(e.next=t,t.prev=e,r.last=t)}function lt(t,r,e,n=!0){var a=h,s={ctx:_,deps:null,nodes_start:null,nodes_end:null,f:t|j,first:null,fn:r,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(e)try{Vt(s),s.f|=Ur}catch(l){throw U(s),l}else r!==null&&Yt(s);var u=e&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(lr|vt))===0;if(!u&&n&&(a!==null&&Me(s,a),p!==null&&(p.f&A)!==0)){var i=p;(i.effects??(i.effects=[])).push(s)}return s}function Ar(t){const r=lt(Bt,null,!1);return F(r,S),r.teardown=t,r}function Mt(t){Nr();var r=h!==null&&(h.f&q)!==0&&_!==null&&!_.m;if(r){var e=_;(e.e??(e.e=[])).push({fn:t,effect:h,reaction:p})}else{var n=Ut(t);return n}}function Fe(t){return Nr(),Rr(t)}function Le(t){const r=lt(J,t,!0);return(e={})=>new Promise(n=>{e.outro?qe(r,()=>{U(r),n(void 0)}):(U(r),n(void 0))})}function Ut(t){return lt(ir,t,!1)}function Rr(t){return lt(Bt,t,!0)}function Be(t,r=!0){return lt(Bt|q,t,!0,r)}function Dr(t){var r=t.teardown;if(r!==null){const e=ot,n=p;rr(!0),D(null);try{r.call(null)}finally{rr(e),D(n)}}}function Mr(t,r=!1){var e=t.first;for(t.first=t.last=null;e!==null;){var n=e.next;(e.f&J)!==0?e.parent=null:U(e,r),e=n}}function $e(t){for(var r=t.first;r!==null;){var e=r.next;(r.f&q)===0&&U(r),r=e}}function U(t,r=!0){var e=!1;if((r||(t.f&Gr)!==0)&&t.nodes_start!==null){for(var n=t.nodes_start,a=t.nodes_end;n!==null;){var s=n===a?null:it(n);n.remove(),n=s}e=!0}Mr(t,r&&!e),Et(t,0),F(t,mt);var u=t.transitions;if(u!==null)for(const l of u)l.stop();Dr(t);var i=t.parent;i!==null&&i.first!==null&&Fr(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Fr(t){var r=t.parent,e=t.prev,n=t.next;e!==null&&(e.next=n),n!==null&&(n.prev=e),r!==null&&(r.first===t&&(r.first=n),r.last===t&&(r.last=e))}function qe(t,r){var e=[];Lr(t,e,!0),je(e,()=>{U(t),r&&r()})}function je(t,r){var e=t.length;if(e>0){var n=()=>--e||r();for(var a of t)a.out(n)}else r()}function Lr(t,r,e){if((t.f&ht)===0){if(t.f^=ht,t.transitions!==null)for(const u of t.transitions)(u.is_global||e)&&r.push(u);for(var n=t.first;n!==null;){var a=n.next,s=(n.f&Wr)!==0||(n.f&q)!==0;Lr(n,r,s?e:!1),n=a}}}function Ve(t){var r=p,e=h;D(null),$(null);try{return t()}finally{D(r),$(e)}}const Ye=new Set,er=new Set;function He(t,r,e,n={}){function a(s){if(n.capture||tt.call(r,s),!s.cancelBubble)return Ve(()=>e==null?void 0:e.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?pr(()=>{r.addEventListener(t,a,n)}):r.addEventListener(t,a,n),a}function nr(t,r,e,n,a){var s={capture:n,passive:a},u=He(t,r,e,s);(r===document.body||r===window||r===document)&&Ar(()=>{r.removeEventListener(t,u,s)})}function tt(t){var G;var r=this,e=r.ownerDocument,n=t.type,a=((G=t.composedPath)==null?void 0:G.call(t))||[],s=a[0]||t.target,u=0,i=t.__root;if(i){var l=a.indexOf(i);if(l!==-1&&(r===document||r===window)){t.__root=r;return}var o=a.indexOf(r);if(o===-1)return;l<=o&&(u=l)}if(s=a[u]||t.target,s!==r){cr(t,"currentTarget",{configurable:!0,get(){return s||e}});var c=p,f=h;D(null),$(null);try{for(var d,v=[];s!==null;){var b=s.assignedSlot||s.parentNode||s.host||null;try{var x=s["__"+n];if(x!=null&&(!s.disabled||t.target===s))if(fr(x)){var[W,...ft]=x;W.apply(s,[t,...ft])}else x.call(s,t)}catch(V){d?v.push(V):d=V}if(t.cancelBubble||b===r||b===null)break;s=b}if(d){for(let V of v)queueMicrotask(()=>{throw V});throw d}}finally{t.__root=r,delete t.currentTarget,D(c),$(f)}}}function Ue(t){var r=document.createElement("template");return r.innerHTML=t,r.content}function Ft(t,r){var e=h;e.nodes_start===null&&(e.nodes_start=t,e.nodes_end=r)}function We(t,r){var e=(r&pe)!==0,n,a=!t.startsWith("<!>");return()=>{if(R)return Ft(w,null),w;n===void 0&&(n=Ue(a?t:"<!>"+t),n=bt(n));var s=e||Or?document.importNode(n,!0):n.cloneNode(!0);return Ft(s,s),s}}function Ge(t,r){if(R){h.nodes_end=w,mr();return}t!==null&&t.before(r)}const Ke=["touchstart","touchmove"];function ze(t){return Ke.includes(t)}function Br(t,r){return $r(t,r)}function Xe(t,r){Rt(),r.intro=r.intro??!1;const e=r.target,n=R,a=w;try{for(var s=bt(e);s&&(s.nodeType!==8||s.data!==he);)s=it(s);if(!s)throw et;ct(!0),Z(s),mr();const u=$r(t,{...r,anchor:s});if(w===null||w.nodeType!==8||w.data!==_e)throw $t(),et;return ct(!1),u}catch(u){if(u===et)return r.recover===!1&&oe(),Rt(),me(e),ct(!1),Br(t,r);throw u}finally{ct(n),Z(a)}}const K=new Map;function $r(t,{target:r,anchor:e,props:n={},events:a,context:s,intro:u=!0}){Rt();var i=new Set,l=f=>{for(var d=0;d<f.length;d++){var v=f[d];if(!i.has(v)){i.add(v);var b=ze(v);r.addEventListener(v,tt,{passive:b});var x=K.get(v);x===void 0?(document.addEventListener(v,tt,{passive:b}),K.set(v,1)):K.set(v,x+1)}}};l(Xr(Ye)),er.add(l);var o=void 0,c=Le(()=>{var f=e??r.appendChild(jt());return Be(()=>{if(s){_r({});var d=_;d.c=s}a&&(n.$$events=a),R&&Ft(f,null),o=t(f,n)||{},R&&(h.nodes_end=w),s&&br()}),()=>{var b;for(var d of i){r.removeEventListener(d,tt);var v=K.get(d);--v===0?(document.removeEventListener(d,tt),K.delete(d)):K.set(d,v)}er.delete(l),f!==e&&((b=f.parentNode)==null||b.removeChild(f))}});return Lt.set(o,c),o}let Lt=new WeakMap;function Ze(t,r){const e=Lt.get(t);return e?(Lt.delete(t),e(r)):Promise.resolve()}function Je(t){return new Qe(t)}var M,P;class Qe{constructor(r){Pt(this,M);Pt(this,P);var s;var e=new Map,n=(u,i)=>{var l=gr(i);return e.set(u,l),l};const a=new Proxy({...r.props||{},$$events:{}},{get(u,i){return N(e.get(i)??n(i,Reflect.get(u,i)))},has(u,i){return i===Kr?!0:(N(e.get(i)??n(i,Reflect.get(u,i))),Reflect.has(u,i))},set(u,i,l){return k(e.get(i)??n(i,l),l),Reflect.set(u,i,l)}});Ct(this,P,(r.hydrate?Xe:Br)(r.component,{target:r.target,anchor:r.anchor,props:a,context:r.context,intro:r.intro??!1,recover:r.recover})),(!((s=r==null?void 0:r.props)!=null&&s.$$host)||r.sync===!1)&&Ae(),Ct(this,M,a.$$events);for(const u of Object.keys(E(this,P)))u==="$set"||u==="$destroy"||u==="$on"||cr(this,u,{get(){return E(this,P)[u]},set(i){E(this,P)[u]=i},enumerable:!0});E(this,P).$set=u=>{Object.assign(a,u)},E(this,P).$destroy=()=>{Ze(E(this,P))}}$set(r){E(this,P).$set(r)}$on(r,e){E(this,M)[r]=E(this,M)[r]||[];const n=(...a)=>e.call(this,...a);return E(this,M)[r].push(n),()=>{E(this,M)[r]=E(this,M)[r].filter(a=>a!==n)}}$destroy(){E(this,P).$destroy()}}M=new WeakMap,P=new WeakMap;const tn="5";var ur;typeof window<"u"&&((ur=window.__svelte??(window.__svelte={})).v??(ur.v=new Set)).add(tn);ve();function sr(t,r){return t===r||(t==null?void 0:t[X])===r}function rn(t={},r,e,n){return Ut(()=>{var a,s;return Rr(()=>{a=s,s=[],Ht(()=>{t!==e(...s)&&(r(t,...s),a&&sr(e(...a),t)&&r(null,...a))})}),()=>{pr(()=>{s&&sr(e(...s),t)&&r(null,...s)})}}),t}function en(t=!1){const r=_,e=r.l.u;if(!e)return;let n=()=>De(r.s);if(t){let a=0,s={};const u=we(()=>{let i=!1;const l=r.s;for(const o in l)l[o]!==s[o]&&(s[o]=l[o],i=!0);return i&&a++,a});n=()=>N(u)}e.b.length&&Fe(()=>{ar(r,n),_t(e.b)}),Mt(()=>{const a=Ht(()=>e.m.map(te));return()=>{for(const s of a)typeof s=="function"&&s()}}),e.a.length&&Mt(()=>{ar(r,n),_t(e.a)})}function ar(t,r){if(t.l.s)for(const e of t.l.s)N(e);r()}function nn(t,r,e){var n;t.$$events||(t.$$events={}),(n=t.$$events)[r]||(n[r]=[]),t.$$events[r].push(e)}function sn(t){for(var r in t)r in this&&(this[r]=t[r])}function an(t){_===null&&be(),ut&&_.l!==null?un(_).m.push(t):Mt(()=>{const r=Ht(t);if(typeof r=="function")return r})}function un(t){var r=t.l;return r.u??(r.u={a:[],b:[],m:[]})}const qr=16,on=8,It={DIVISION_BY_ZERO:"Cannot divide by zero",INVALID_INPUT:"Invalid input",OVERFLOW:"Number too large",INVALID_OPERATION:"Invalid operation",MAX_DIGITS_EXCEEDED:`Maximum ${qr} digits exceeded`,INVALID_DECIMAL:"Invalid decimal format"};class ln{constructor(){Y(this,"state");Y(this,"error");this.state={runningTotal:0,buffer:"0",previousOperator:null,expression:"",cursorPosition:1},this.error=null}getState(){return{...this.state}}calculatePreview(){if(this.error)return this.error;if(!this.state.previousOperator)return"";const r=parseFloat(this.state.buffer.replace(",",".")),e=this.state.runningTotal;try{let n;switch(this.state.previousOperator){case"+":n=e+r;break;case"−":n=e-r;break;case"×":n=e*r;break;case"÷":if(r===0)throw new Error(It.DIVISION_BY_ZERO);n=e/r;break;default:return""}if(!Number.isFinite(n)||n.toString().length>qr)throw new Error(It.OVERFLOW);return n.toFixed(on).replace(/\.?0+$/,"")}catch(n){return this.error=n instanceof Error?n.message:It.INVALID_INPUT,this.error}}updateBuffer(r){this.state.buffer=r}updateOperator(r){this.state.previousOperator=r}updateCursor(r){this.state.cursorPosition=r}updateRunningTotal(r){this.state.runningTotal=r}updateExpression(r){this.state.expression=r}}class fn{constructor(r,e){Y(this,"screen");Y(this,"calculator");this.screen=r,this.calculator=e}initializeScreen(){this.screen&&(this.screen.innerHTML=`
            <div class="expression-line">
                <div class="current-expression">0<span class="cursor"></span></div>
                <div class="preview"></div>
            </div>
        `)}updateScreen(){const r=this.screen.querySelector(".current-expression"),e=this.screen.querySelector(".preview");if(!r||!e)return;const n=this.calculator.getState();let a=n.buffer;n.previousOperator&&(a=`${n.runningTotal} ${n.previousOperator} ${n.buffer}`);const[s,u]=this.getExpressionParts(a);if(r.innerHTML=s+'<span class="cursor"></span>'+u,n.previousOperator&&n.buffer!=="0"){const i=this.calculator.calculatePreview();e.textContent=i!==""?`= ${i}`:""}else e.textContent=""}getExpressionParts(r){const e=this.calculator.getState();let n=e.cursorPosition;if(e.previousOperator){const a=r.indexOf(e.previousOperator);a!==-1&&(e.cursorPosition>a?n=a+2+(e.cursorPosition-a-2):n=e.cursorPosition)}return[r.slice(0,n),r.slice(n)]}}class cn{constructor(r,e){Y(this,"calculator");Y(this,"uiManager");this.calculator=r,this.uiManager=e}handleButtonClick(r){isNaN(Number(r))&&r!==","?this.handleSymbol(r):this.handleNumber(r),this.uiManager.updateScreen()}handleNumber(r){const e=this.calculator.getState();if(!(r===","&&e.buffer.includes(",")))if(e.previousOperator){const n=(e.runningTotal+" "+e.previousOperator+" "+e.buffer).indexOf(e.previousOperator);if(e.cursorPosition>n+2){const a=e.cursorPosition-(n+2);e.buffer==="0"&&r!==","?this.calculator.updateBuffer(r):this.calculator.updateBuffer(e.buffer.slice(0,a)+r+e.buffer.slice(a)),this.calculator.updateCursor(e.cursorPosition+1)}else{if(e.runningTotal===0&&r!==",")this.calculator.updateRunningTotal(parseFloat(r));else{const a=e.runningTotal.toString();this.calculator.updateRunningTotal(parseFloat(a.slice(0,e.cursorPosition)+r+a.slice(e.cursorPosition)))}this.calculator.updateCursor(e.cursorPosition+1)}}else e.buffer==="0"&&r!==","?(this.calculator.updateBuffer(r),this.calculator.updateCursor(1)):(this.calculator.updateBuffer(e.buffer.slice(0,e.cursorPosition)+r+e.buffer.slice(e.cursorPosition)),this.calculator.updateCursor(e.cursorPosition+1))}handleSymbol(r){const e=this.calculator.getState();switch(r){case"AC":this.calculator.updateBuffer("0"),this.calculator.updateRunningTotal(0),this.calculator.updateOperator(null),this.calculator.updateCursor(1);break;case"=":if(e.previousOperator===null)return;this.flushOperation(parseFloat(e.buffer)),this.calculator.updateOperator(null),this.calculator.updateBuffer(e.runningTotal.toString()),this.calculator.updateRunningTotal(0),this.calculator.updateExpression(""),this.calculator.updateCursor(1);break;case"÷":case"×":case"+":case"−":if(e.previousOperator){const s=`${e.runningTotal} ${e.previousOperator} ${e.buffer}`.indexOf(e.previousOperator);if(e.cursorPosition===s+1){this.calculator.updateOperator(r);return}}this.handleMath(r);break;case"√":this.calculator.updateBuffer(Math.sqrt(parseFloat(e.buffer)).toString());break;case"x²":this.calculator.updateBuffer(Math.pow(parseFloat(e.buffer),2).toString());break;case"DEL":if(e.previousOperator){const s=`${e.runningTotal} ${e.previousOperator} ${e.buffer}`.indexOf(e.previousOperator);if(e.cursorPosition===s+1)this.calculator.updateOperator(null),this.calculator.updateBuffer("0"),this.calculator.updateCursor(e.runningTotal.toString().length);else if(e.cursorPosition>s+2){const u=e.cursorPosition-(s+2),i=e.buffer.slice(0,u-1)+e.buffer.slice(u);this.calculator.updateBuffer(i.length===0?"0":i),this.calculator.updateCursor(e.cursorPosition-1)}else{const u=e.runningTotal.toString(),i=parseFloat(u.slice(0,e.cursorPosition-1)+u.slice(e.cursorPosition));this.calculator.updateRunningTotal(isNaN(i)?0:i),this.calculator.updateCursor(e.cursorPosition-1)}}else e.buffer.length===1?(this.calculator.updateBuffer("0"),this.calculator.updateCursor(1)):(this.calculator.updateBuffer(e.buffer.slice(0,e.cursorPosition-1)+e.buffer.slice(e.cursorPosition)),this.calculator.updateCursor(e.cursorPosition-1));break;case"←":if(e.previousOperator){const a=(e.runningTotal+" "+e.previousOperator+" "+e.buffer).indexOf(e.previousOperator);e.cursorPosition>a+2?this.calculator.updateCursor(e.cursorPosition-1):e.cursorPosition>0&&this.calculator.updateCursor(e.cursorPosition-1)}else e.cursorPosition>0&&this.calculator.updateCursor(e.cursorPosition-1);break;case"→":const n=e.previousOperator?e.runningTotal+" "+e.previousOperator+" "+e.buffer:e.buffer;e.cursorPosition<n.length&&this.calculator.updateCursor(e.cursorPosition+1);break}}handleMath(r){const e=this.calculator.getState();if(e.buffer==="0")return;if(e.previousOperator){const s=`${e.runningTotal} ${e.previousOperator} ${e.buffer}`.indexOf(e.previousOperator);if(e.cursorPosition===s+1){this.calculator.updateOperator(r);return}}const n=parseFloat(e.buffer.replace(",","."));e.runningTotal===0?this.calculator.updateRunningTotal(n):this.flushOperation(n),this.calculator.updateOperator(r),this.calculator.updateBuffer("0"),this.calculator.updateCursor((e.runningTotal.toString()+" "+r+" ").length+1)}flushOperation(r){const e=this.calculator.getState();let n=e.runningTotal;switch(e.previousOperator){case"+":n+=r;break;case"−":n-=r;break;case"×":n*=r;break;case"÷":n/=r;break}this.calculator.updateRunningTotal(n)}}var dn=We('<main class="svelte-1ra0fur"><div class="wrapper glass svelte-1ra0fur"><section class="screen svelte-1ra0fur"><div class="expression-line svelte-1ra0fur"><div class="current-expression svelte-1ra0fur">0<span class="cursor svelte-1ra0fur"></span></div> <div class="preview svelte-1ra0fur"></div></div></section> <div class="calc-buttons svelte-1ra0fur" role="group" aria-label="Calculator buttons"><nav class="move-buttons svelte-1ra0fur"><button class="move-button svelte-1ra0fur" data-action="left" aria-label="Move cursor left">&larr;</button> <button class="move-button svelte-1ra0fur" data-action="right" aria-label="Move cursor right">&rarr;</button></nav> <div class="calc-grid svelte-1ra0fur" role="grid" tabindex="0" aria-label="Calculator number pad"><div class="calc-button-row svelte-1ra0fur"><button class="calc-button svelte-1ra0fur" data-number="">7</button> <button class="calc-button svelte-1ra0fur" data-number="">8</button> <button class="calc-button svelte-1ra0fur" data-number="">9</button> <button class="calc-button operator svelte-1ra0fur" data-action="delete">DEL</button> <button class="calc-button double operator svelte-1ra0fur" data-action="clear">AC</button></div> <div class="calc-button-row svelte-1ra0fur"><button class="calc-button svelte-1ra0fur" data-number="">4</button> <button class="calc-button svelte-1ra0fur" data-number="">5</button> <button class="calc-button svelte-1ra0fur" data-number="">6</button> <button class="calc-button operator svelte-1ra0fur" data-action="multiply">&times;</button> <button class="calc-button operator svelte-1ra0fur" data-action="divide">&divide;</button></div> <div class="calc-button-row svelte-1ra0fur"><button class="calc-button svelte-1ra0fur" data-number="">1</button> <button class="calc-button svelte-1ra0fur" data-number="">2</button> <button class="calc-button svelte-1ra0fur" data-number="">3</button> <button class="calc-button operator svelte-1ra0fur" data-action="add">&plus;</button> <button class="calc-button operator svelte-1ra0fur" data-action="subtract">&minus;</button></div> <div class="calc-button-row svelte-1ra0fur"><button class="calc-button svelte-1ra0fur" data-number="">0</button> <button class="calc-button operator svelte-1ra0fur" data-action="decimal">&comma;</button> <button class="calc-button operator svelte-1ra0fur" data-action="sqrt">&radic;</button> <button class="calc-button operator svelte-1ra0fur" data-action="square">x²</button> <button class="calc-button double operator svelte-1ra0fur" data-action="equals">&equals;</button></div></div></div></div></main>');function jr(t,r){if(new.target)return Je({component:jr,...t});_r(r,!1);let e=gr(),n;function a(c){const f=c.target;if(f.matches("button")){if(f.hasAttribute("data-number"))n.handleButtonClick(f.textContent||"");else if(f.hasAttribute("data-action")){const d={clear:"AC",delete:"DEL",multiply:"×",divide:"÷",add:"+",subtract:"−",decimal:",",equals:"=",sqrt:"√",square:"x²",left:"←",right:"→"},v=f.getAttribute("data-action");v&&v in d&&n.handleButtonClick(d[v]||"")}}}an(()=>{console.log("Calculator mounting...");const c=new ln,f=new fn(N(e),c);n=new cn(c,f),f.initializeScreen()}),en();var s=dn(),u=kt(s),i=kt(u);rn(i,c=>k(e,c),()=>N(e));var l=tr(i,2),o=tr(kt(l),2);return St(l),St(u),St(s),nr("click",o,a),nr("keydown",o,c=>{(c.key==="Enter"||c.key===" ")&&a(c)}),Ge(t,s),br({$set:sn,$on:(c,f)=>nn(r,c,f)})}const Vr=document.getElementById("app");if(!Vr)throw new Error("Could not find #app element");new jr({target:Vr});
